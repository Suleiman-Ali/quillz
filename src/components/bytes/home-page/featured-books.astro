---
import FeaturedWrapper from "@/components/bytes/home-page/featured-wrapper.astro";
import type { Prisma } from "@prisma/client";

interface Props {
  tags: Prisma.TagGetPayload<{ include: { books: true } }>[];
  title: string;
  idx: number;
}

const { tags, title, idx } = Astro.props;
---

<FeaturedWrapper {title} text="explore books" href="/books">
  <div
    class="w-full grid grid-cols-2 min-[500px]:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2.5"
  >
    {
      tags.slice(0, 6).map((tag) => (
        <a
          href={`/books/${tag.books[idx].slug}`}
          class="max-w-xs flex flex-col gap-0.5 group"
        >
          <img
            src={tag.books[idx].coverUrl}
            alt={tag.books[idx].title}
            title={tag.books[idx].title}
            class="w-full rounded shadow group-hover:shadow-md group-hover:-translate-y-1 transition"
          />
          <p class="text-sm sm:text-base md:text-lg lg:text-xl font-medium text-zinc-800 serif mt-2.5">
            {tag.books[idx].title}
          </p>
          <p class="text-xs sm:text-sm text-zinc-500">
            {tag.books[idx].author}
          </p>
        </a>
      ))
    }
  </div>
</FeaturedWrapper>
